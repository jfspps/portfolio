<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>Dr James Apps | SRM</title>

    <!-- Bootstrap core CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="styles.css">

  </head>
  <body>
    <nav class="navbar navbar-expand-md navbar-light fixed-top" style="background-color:rgb(224, 183, 147);">
      <div class="navbar-brand">Dr James Apps</div>
        
      <!-- collapsable button -->
      <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
        
      <div class="collapse navbar-collapse" id="navbarSupportedContent">
        <ul class="navbar-nav mr-auto">
          <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" href="" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Summaries</a>
            <div class="dropdown-menu" aria-labelledby="navbarDropdown">
              <a class="dropdown-item" href="index.html">Front page</a>
              <a class="dropdown-item" href="BodyBand.html">BodyBand</a>
              <a class="dropdown-item" href="LearningChem.html">LearningChem</a>
            </div>
          </li>
          <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" href="" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">GitHub repositories</a>
            <div class="dropdown-menu" aria-labelledby="navbarDropdown">
              <a class="dropdown-item" href="https://github.com/jfspps/BodyBandGradle" target="_blank">BodyBand</a>
              <a class="dropdown-item" href="https://github.com/jfspps/SRM-Spring" target="_blank">Student record management (non-secure) SRM</a>
              <a class="dropdown-item" href="https://github.com/jfspps/Secure-SRM" target="_blank">Student record management (Secure-SRM)</a>
              <a class="dropdown-item" href="https://github.com/jfspps/LearningChemDemo" target="_blank">LearningChem</a>
            </div>
          </li>
        </ul>
        <ul class="navbar-nav ml-auto">
          <li class="nav-item active">
            <a class="nav-link" href="mailto:japps@learningchem.co.uk"><i class="fa fa-envelope" aria-hidden="true"></i> Email</a>
          </li>
          <li class="nav-item active">
            <a class="nav-link" href="https://github.com/jfspps" target="_blank"><i class="fa fa-github" aria-hidden="true"></i> GitHub</a>
          </li>
          <li class="nav-item active">
            <a class="nav-link" href="https://www.linkedin.com/in/drjamesapps" target="_blank"><i class="fa fa-linkedin" aria-hidden="true"></i> LinkedIn</a>
          </li>
        </ul>
      </div>
    </nav>

    <div class="jumbotron pb-1 pt-6" style="background-color:rgb(255, 246, 232);">
    <div class="container">
      <h2>Student Record Management (SRM)</h2>
    </div>
  </div>

  <div class="container">
    <div class="row">
      <div class="col-md-12">
        <h2>Overview and current status</h2>
        <h5>Summary last edited 8th Nov 2020</h5>
        <p>
          SRM is an academic database which can record student results and provide school staff with basic contact details for all personnel (teachers and guardians) who are related to each student. After the user logs on to the system, they are greeted with a welcome screen:
        </p>
        <div class="col-md-12">
          <figure>
            <img img alt="BodyBand" src="images/SRM_Welcome1.png" class="mx-auto img-fluid d-block" style="width: 80%">
          </figure>
      </div>
        <p>Historically, Web-login is a separate Spring Security login app which was then integrated with SRM to then lead to the project present here, Secure-SRM.</p>       
      </div>
    </div>

    <div class="row">
      <div class="col-md-12">
        <h5>Web-login: authentication and authorisation</h5>
        <div class="row">
          <div class="col-md-6">
            <p>
              The GitHub repository for Web-login is <a href="https://github.com/jfspps/Spring_weblogin" target="_blank">here</a>. The list of key features include:
            </p>        
            <ul>
              <li>BCrypt password encryption</li>
              <li>Variable session length (currently <a href="https://github.com/jfspps/Spring_weblogin/blob/master/src/main/java/com/springsecurity/weblogin/config/SecurityConfiguration.java#L100" target="_blank">1 hour</a>)</li>
              <li>MySQL persistent user accounts and Remember-Me tokens</li>
              <li>Granular permissions (please see <a href="https://github.com/jfspps/Spring_weblogin/blob/master/src/main/java/com/springsecurity/weblogin/bootstrap/security/DataLoader_SDjpa.java#L64" target="_blank">BootLoader</a>)</li>
              <li>Bootstrap (CSS) and Thymeleaf front-end</li>
              <li>Example database entity (known as <a href="https://github.com/jfspps/Spring_weblogin/blob/master/src/main/java/com/springsecurity/weblogin/model/TestRecord.java" target="_blank">TestRecord</a>) to demonstrate authorised CRUD operations</li>
              <li>Automatic account lock-out after repeated failed login attempts via <a href="https://github.com/jfspps/Spring_weblogin/tree/master/src/main/java/com/springsecurity/weblogin/listeners" target="_blank">listener classes</a></li>
            </ul>
            <p>The finalised <a href="https://github.com/jfspps/Secure-SRM" target="_blank">Secure-SRM</a> repository is available on GitHub.</p>
          </div>

          <div class="col-md-6">
              <figure>
                <img img alt="BodyBand" src="images/SRM_login.png" class="mx-auto img-fluid d-block" style="width: 100%">
              </figure>
          </div>
        </div>
      </div>
    </div>

    <div class="row">
      <div class="col-md-12">
          <figure>
            <img img alt="BodyBand" src="images/SRM_summary.png" class="mx-auto img-fluid d-block border" style="width: 80%">
          </figure>
      </div>
    </div>

      <div class="row">
        <div class="col-md-12">
          <h2>Background and summary of SRM</h2>
        </div>
      </div>

    <div class="row">
      <div class="col-md-12">
        <h4>Planning</h4>
        <p>
          Following from my experience with BodyBand, I spent a few days planning the project before any coding, and outlined my ideas as a former-teacher, writing a <a href="https://github.com/jfspps/Secure-SRM/tree/master/NodeJS_SRM_archive/docs" target="_blank">Systems requirement specification</a>. As you will see, I previously referred to the project as 'Linq' but then changed it to SRM.
        </p>
      </div>
    </div>

      <div class="row">
        <div class="col-md-12">
        <h4>MySQL database</h4>
        <p>
          At this stage I had just finished an <a href="https://github.com/jfspps/MySQL-notes" target="_blank">online MySQL course</a> and was familiar enough with MySQL 8 and MySQL workbench to begin planning. I decided to build a small <a href="https://github.com/jfspps/SRM_Node" target="_blank">NodeJS and MySQL based parent's portal</a> for SRM which also contains a lot of the preliminary planning for this project. In the end it turned out to be a substantial project for me at least, trying to grapple with <a href="https://datatables.net/" target="_blank">Datatables</a>. Originally, I had planned to build the entire project with NodeJS instead of Spring but then decided to build on my Java skills and get some experience with Spring 5. The project presented in this summary is the Spring based project.
        </p>
        <figure>
          <img img alt="BodyBand" src="images/SRM_schema.png" class="mx-auto img-fluid d-block" style="width: 100%">
        </figure>
        <p>
          In BodyBand there are three tables. From my <a href="https://github.com/jfspps/Secure-SRM/blob/master/NodeJS_SRM_archive/dbschema/SRM_schema.pdf" target="_blank">planning of the NodeJS SRM project</a> (part of the original schema is reproduced above) and intention of moving to Spring 5, there would be about a dozen tables in SRM.
        </p>
        <p>
          I soon came to learn about Spring Data JPA and realised that I would instead think in terms of POJOs and allow the database to be built based on the Spring @Entity annotations.
        </p>
      </div>
    </div>

    <div class="row">
      <div class="col-md-4">
        <h4>Project structure</h4>
            <p>
              There are model and database service interfaces housed in a <a href="https://github.com/jfspps/Secure-SRM/tree/master/src/main/java/com/secure_srm/model" target="_blank">'model'</a> package, with the Spring MVC controllers are located in a <a href="https://github.com/jfspps/Secure-SRM/tree/master/src/main/java/com/secure_srm/web/controllers" target="_blank">'controllers'</a> package, and Thymeleaf templates in a <a href="https://github.com/jfspps/Secure-SRM/tree/master/src/main/resources/templates" target="_blank">'template'</a> directory. Project Lombok has proved to be a large time saver and reduced the amount of code needed to build POJOs, though at the expense of learning yet more annotations! 
            </p>
      </div>
      <div class="col-md-8">
        <figure>
          <img img alt="BodyBand" src="images/SRM_editRecord.png" class="mx-auto img-fluid d-block border" style="width: 100%">
        </figure>
      </div>
    </div>

    <div class="row">
      <div class="col-md-12">
            <p>
              All of the create, read and update operations are implemented for several entities, including students, guardians and teachers. The CRUD service is based on <a href="https://github.com/jfspps/Secure-SRM/tree/master/src/main/java/com/secure_srm/services/springDataJPA" target="_blank">Spring Data JPA</a>.
            </p>
            <p>
              The more difficult aspects of the project for me are understanding how to send and receive Model instances between the <a href="https://github.com/jfspps/SRM-Spring/tree/master/srm_spring_web/src/main/java/com/srm/controllers" target="_blank">controllers</a> and the <a href="https://github.com/jfspps/Secure-SRM/tree/master/src/main/java/com/secure_srm/web/controllers" target="_blank">Thymeleaf templates</a>. Regular <a href="https://github.com/jfspps/Secure-SRM/tree/master/src/test/java/com/secure_srm/web/controllers" target="_blank">integration tests</a> and UI testing helped me monitor the handling of Model objects during development.
            </p>
      </div>
    </div>

    <div class="row">
      <div class="col-md-12">
          <figure>
            <img img alt="BodyBand" src="images/SRM_listView.png" class="mx-auto img-fluid d-block" style="width: 100%">
          </figure>
      </div>
    </div>

    <div class="row">
      <div class="col-md-12">
        <h4>Testing methods and focusing commits</h4>
        <p>
          More recently, I have begun implementing BindingResult handles to validate form posts and protect the database from unexpected NULL entries. Following a TDD approach. writing tests before writing code took some getting used to but in the end proved very useful when trying to focus development time and maximise code coverage.
        </p>
        <p>
          I always run all unit tests prior to committing to Git. I have also begun to appreciate the need to work on <i>small, focused</i> commits. Doing so helps ease troubleshooting. Before writing code, I set myself a small task and ignore all other tasks until the current task is finished and code is committed.
        </p>
      </div>
    </div>

    <div class="row">
      <div class="col-md-12">
          <figure>
            <img img alt="BodyBand" src="images/SRM_listView2.png" class="mx-auto img-fluid d-block" style="width: 100%">
          </figure>
      </div>
    </div>

    <div class="row">
      <div class="col-md-12">
        <h4>Other problem areas and conclusions</h4>
        <p>
          I decided to implement Java Set<>() instances for many properties so as to eliminate duplicate data records. Handling of Sets as Model instances between the controller and template is a particular trouble spot for me. Whenever I encounter problems, I usually insert breakpoints, step into and out of methods and read from the debug messages. I also inserted SLF4j logs to confirm the status of the program at various points in the method (as opposed to using println() when debugging BodyBand).
        </p>
        <p>
          Most of my time is spent reading from online resources, forums and the experience of others when building with new technologies. If it is particularly unique, then I will store the URL as a comment. Above all, the development of SRM has added a significant number of technologies and techniques to learn, which while overwhelming at times, has given me what I am looking for. The Spring technology does indeed look quite vast and I am expecting more challenges to come as I continue working on SRM.
        </p>
      </div>
    </div>
  </div>
  
<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js" integrity="sha384-B4gt1jrGC7Jh4AgTPSdUtOBvfO8shuf57BaghqFfPlYxofvL8/KUEfYiJOMMV+rV" crossorigin="anonymous"></script>
</body>
</html>
